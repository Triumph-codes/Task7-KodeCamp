E-Commerce API
Project Overview
This is a RESTful API for a simple e-commerce store, built with FastAPI and SQLModel. It's designed to demonstrate a modular and scalable application structure with essential features like product management, user authentication, a shopping cart, and a checkout process.

The system features:

Modular Architecture: The project is organized into separate routers for different features (products, users, cart), making it easy to maintain and expand.

JWT Authentication: A robust, token-based authentication system using JSON Web Tokens (JWT) to secure endpoints.

Role-Based Access Control: Admins can manage products, while regular users can browse, add items to their cart, and checkout.

Shopping Cart Logic: A persistent shopping cart for each user, allowing them to add, update, and remove products.

Checkout Process: A transactional endpoint that validates stock, creates a permanent order record, and updates inventory.

Custom Middleware: A custom middleware to log the processing time for each request.

Project Structure
The project follows a best-practice modular FastAPI structure.


```
e_commerce_api/
├── app/
│   ├── main.py               # The main application entry point and middleware configuration
│   ├── database.py           # Handles database connection and session management
│   ├── models.py             # Defines the SQLModel classes for all data tables
│   ├── security.py           # Handles password hashing and JWT authentication logic
│   ├── routers/
│   │   ├── __init__.py
│   │   ├── products.py       # API endpoints for product CRUD operations
│   │   ├── users.py          # Endpoints for user registration and authentication
│   │   └── cart.py           # Endpoints for cart management and checkout
│   └── middleware/
│   │   ├── __init__.py
│   │   └── timing.py         # Middleware for logging request processing time
├── requirements.txt          # Lists all Python dependencies
└── README.md                 # This file

```
Getting Started
Prerequisites
Python 3.8+

pip (Python package installer)

Installation
Clone the repository or download the project files.

Navigate to the project directory.

Install the dependencies from the requirements.txt file:

Bash

pip install -r requirements.txt
Running the Application
To start the API server, use uvicorn. The --reload flag is useful for development.

Bash

uvicorn app.main:app --reload
The server will be running at http://127.0.0.1:8000. You can access the interactive API documentation at http://127.0.0.1:8000/docs.

API Documentation and Usage
The API documentation is automatically generated by FastAPI and is available at the /docs endpoint. This interactive interface allows you to test all the API endpoints directly from your browser.

Authentication
This API uses JWT (JSON Web Token) authentication. To access protected endpoints, you must first obtain a token and then use it in the Authorization header.

Default Admin User
On first run, a default admin user is created for you.

Username: admin

Password: admin_password

Authentication Procedure
Log in: Go to /docs, find the POST /users/token endpoint, and use your admin credentials to get an access_token.

Authorize: Click the "Authorize" button at the top of the /docs page.

Enter Token: In the pop-up window, enter your token in the format: Bearer <your_access_token>. This will authenticate all your subsequent requests.

Endpoints
Method	Endpoint	Description	Access
POST	/users/register	Creates a new user (customer by default).	Public
POST	/users/token	Generates a JWT access token for a user.	Public
GET	/users/me	Retrieves details of the authenticated user.	Authenticated
POST	/products/	Creates a new product.	Admin only
GET	/products/	Retrieves a list of all products.	Public
GET	/products/{product_id}	Retrieves a single product by ID.	Public
PUT	/products/{product_id}	Updates an existing product.	Admin only
DELETE	/products/{product_id}	Deletes a product.	Admin only
POST	/cart/add-item	Adds an item to the authenticated user's cart.	Authenticated
GET	/cart/	Retrieves all items in the authenticated user's cart.	Authenticated
DELETE	/cart/remove-item/{item_id}	Removes a specific item from the cart.	Authenticated
PUT	/cart/update-item/{item_id}	Updates the quantity of an item in the cart.	Authenticated
POST	/cart/checkout	Processes the checkout, creates an order, and updates stock.	Authenticated


**Future Improvements
Payment Gateway Integration: Connect the checkout process to a real payment service like Stripe or PayPal.

Deployment: Deploy the API to a cloud service like Heroku, AWS, or Google Cloud.

Advanced Features: Add product search and filtering, order history for users, and user profile management.

Testing: Implement unit and integration tests to ensure code reliability.

Logging: Use a more robust logging library like loguru to capture and store application events.